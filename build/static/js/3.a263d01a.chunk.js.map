{"version":3,"sources":["helpers/capitalize/index.js","helpers/err-handler/index.js","helpers/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","hooks/use-contestant/index.js","hooks/use-contestants/index.js","hooks/use-submit-contestant/index.js","hooks/index.js","pages/contestant/index.js"],"names":["capitalize","name","splitStr","toLowerCase","split","i","length","charAt","toUpperCase","substr","join","errHandler","err","alert","console","error","__webpack_require__","d","__webpack_exports__","helpers_capitalize","err_handler","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","useContestant","id","_useState","useState","_useState2","slicedToArray","contestant","setContestant","_useState3","_useState4","isFetching","setIsFetching","useEffect","unsubscribe","db","collection","orderBy","onSnapshot","snapshot","rank","foundDoc","docs","find","doc","data","useContestants","contestants","setContestants","map","index","useSubmitContestant","isSubmitting","setIsSubmitting","submit","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","rawName","rawPoints","callback","points","wrap","_context","prev","next","Number","get","sent","update","add","t0","stop","_x","_x2","_x3","this","use_contestant","use_contestants","use_submit_contestant","use_user","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","hooks__WEBPACK_IMPORTED_MODULE_2__","ContestantPage","history","useHistory","useParams","_useContestant","createElement","onClick"],"mappings":"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","file":"static/js/3.a263d01a.chunk.js","sourcesContent":["const capitalize = name => {\n  const splitStr = name.toLowerCase().split(\" \");\n  // [\"Barry\", \"Doyle\"]\n  for (let i = 0; i < splitStr.length; i++) {\n    splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substr(1);\n  }\n  return splitStr.join(\" \");\n};\n\nexport default capitalize;\n","const errHandler = (err) => {\n  if (err) {\n    alert('Something bad happened!')\n    console.error(err)\n    return true\n  }\n  return false\n}\n\nexport default errHandler\n","export { default as capitalize } from './capitalize'\nexport { default as errHandler } from './err-handler'\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useEffect, useState } from 'react'\n\nimport { errHandler } from 'helpers'\nimport db from 'services'\n\nconst useContestant = (id) => {\n  const [contestant, setContestant] = useState()\n  const [isFetching, setIsFetching] = useState(true)\n\n  useEffect(() => {\n    const unsubscribe = db\n      .collection('contestants')\n      .orderBy('points', 'desc')\n      .onSnapshot((snapshot, err) => {\n        if (errHandler(err)) return\n        let rank = 0\n        const foundDoc = snapshot.docs.find((doc) => {\n          rank++\n          return doc.id === id\n        })\n        if (foundDoc) setContestant({ ...foundDoc.data(), rank })\n        else alert('Contestant with that ID does not exist')\n        setIsFetching(false)\n      })\n    return () => {\n      unsubscribe()\n    }\n  }, [id])\n\n  return { contestant, isFetching }\n}\n\nexport default useContestant\n","import { useEffect, useState } from 'react'\n\nimport { errHandler } from 'helpers'\nimport db from 'services'\n\nconst useContestants = () => {\n  const [contestants, setContestants] = useState([])\n  const [isFetching, setIsFetching] = useState(true)\n\n  useEffect(() => {\n    const unsubscribe = db\n      .collection('contestants')\n      .orderBy('points', 'desc')\n      .onSnapshot((snapshot, err) => {\n        if (errHandler(err)) return\n        setContestants(\n          snapshot.docs.map((doc, index) => ({\n            ...doc.data(),\n            id: doc.id,\n            rank: index + 1,\n          }))\n        )\n        if (isFetching) setIsFetching(false)\n      })\n    return () => {\n      unsubscribe()\n    }\n  }, [isFetching])\n\n  return { contestants, isFetching }\n}\n\nexport default useContestants\n","import { useState } from 'react'\n\nimport { capitalize, errHandler } from 'helpers'\nimport db from 'services'\n\nconst useSubmitContestant = () => {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const submit = async (rawName, rawPoints, callback) => {\n    setIsSubmitting(true)\n    const name = capitalize(rawName)\n    const points = Number(rawPoints)\n    try {\n      const snapshot = await db.collection('contestants').get()\n      const foundDoc = snapshot.docs.find((doc) => doc.data().name === name)\n      if (foundDoc) {\n        await db\n          .collection('contestants')\n          .doc(foundDoc.id)\n          .update({ points: foundDoc.data().points + points })\n      } else await db.collection('contestants').add({ name, points })\n\n      if (callback) callback()\n    } catch (err) {\n      errHandler(err)\n    }\n    setIsSubmitting(false)\n  }\n\n  return { isSubmitting, submit }\n}\n\nexport default useSubmitContestant\n","export { default as useContestant } from './use-contestant'\nexport { default as useContestants } from './use-contestants'\nexport { default as useSubmitContestant } from './use-submit-contestant'\nexport * from './use-user'\nexport * from './use-viewport'\n","import React from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { useContestant } from 'hooks'\n\nconst ContestantPage = () => {\n  const history = useHistory()\n  const { id } = useParams()\n\n  const { contestant, isFetching } = useContestant(id)\n\n  if (isFetching) return <h4>Fetching Contestant...</h4>\n\n  if (!contestant) return <h4>Contestant Not Found</h4>\n\n  function handleBackClick() {\n    history.push('/')\n  }\n\n  return (\n    <div>\n      <h2>Contestant Page</h2>\n      <strong>ID: </strong>\n      {id}\n      <br />\n      <strong>Name: </strong>\n      {contestant.name}\n      <br />\n      <strong>Points: </strong>\n      {contestant.points}\n      <br />\n      <strong>Rank: </strong>\n      {contestant.rank}\n      <br />\n      <br />\n      <button onClick={handleBackClick}>Back to contestant display</button>\n    </div>\n  )\n}\n\nexport default ContestantPage\n"],"sourceRoot":""}