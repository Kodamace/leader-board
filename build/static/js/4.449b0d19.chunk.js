(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{55:function(e,t,n){"use strict";var r=function(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substr(1);return t.join(" ")},a=function(e){return!!e&&(alert("Something bad happened!"),console.error(e),!0)};n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},56:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=n(13),u=n(1),i=n(55),s=n(23),l=function(e){var t=Object(u.useState)(),n=Object(o.a)(t,2),r=n[0],a=n[1],l=Object(u.useState)(!0),b=Object(o.a)(l,2),f=b[0],m=b[1];return Object(u.useEffect)(function(){var t=s.b.collection("contestants").orderBy("points","desc").onSnapshot(function(t,n){if(!Object(i.b)(n)){var r=0,o=t.docs.find(function(t){return r++,t.id===e});o?a(c(c({},o.data()),{},{rank:r})):alert("Contestant with that ID does not exist"),m(!1)}});return function(){t()}},[e]),{contestant:r,isFetching:f}},b=function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(u.useState)(!0),l=Object(o.a)(a,2),b=l[0],f=l[1];return Object(u.useEffect)(function(){var e=s.b.collection("contestants").orderBy("points","desc").onSnapshot(function(e,t){Object(i.b)(t)||(r(e.docs.map(function(e,t){return c(c({},e.data()),{},{id:e.id,rank:t+1})})),b&&f(!1))});return function(){e()}},[b]),{contestants:n,isFetching:b}},f=n(18),m=n.n(f),p=n(26),d=function(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return{isSubmitting:n,submit:function(){var e=Object(p.a)(m.a.mark(function e(t,n,a){var c,o,u,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),c=Object(i.a)(t),o=Number(n),e.prev=3,e.next=6,s.b.collection("contestants").get();case 6:if(u=e.sent,!(l=u.docs.find(function(e){return e.data().name===c}))){e.next=13;break}return e.next=11,s.b.collection("contestants").doc(l.id).update({points:l.data().points+o});case 11:e.next=15;break;case 13:return e.next=15,s.b.collection("contestants").add({name:c,points:o});case 15:a&&a(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),Object(i.b)(e.t0);case 21:r(!1);case 22:case"end":return e.stop()}},e,null,[[3,18]])}));return function(t,n,r){return e.apply(this,arguments)}}()}},O=n(24);n(25);n.d(t,"a",function(){return l}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return O.b})},59:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),o=n(55),u=n(56),i=n(23),s=function(){var e=Object(c.f)(),t=Object(u.d)();return a.a.createElement("button",{onClick:function(){return t?i.a.signOut().catch(function(e){return Object(o.b)(e)}):e.push("/login")}},t?"Log Out":"Log In")},l=n(13),b=function(){var e=Object(r.useContext)(j),t=e.name,n=e.setName;return a.a.createElement("input",{onChange:function(e){return n(e.target.value)},type:"text",placeholder:"Contestant Name",value:t})},f=function(){var e=Object(r.useContext)(j),t=e.points,n=e.setPoints;return a.a.createElement("input",{onChange:function(e){return n(e.target.value)},type:"text",placeholder:"Contestant Points",value:t})},m=n(18),p=n.n(m),d=n(26),O=function(){var e=Object(r.useContext)(j),t=e.name,n=e.points,c=e.setName,o=e.setPoints,i=Object(u.c)(),s=i.isSubmitting,l=i.submit,b=function(){c(""),o("")},f=function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n,b);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("button",{disabled:s,onClick:f},"Submit",s?"ting...":"")},j=Object(r.createContext)({name:"",points:"",setName:function(){return null},setPoint:function(){return null}}),v=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),u=Object(l.a)(o,2),i=u[0],s=u[1];return a.a.createElement("div",null,"Contestant Input ",a.a.createElement("br",null),a.a.createElement(j.Provider,{value:{name:n,points:i,setName:c,setPoints:s}},a.a.createElement(b,null),a.a.createElement(f,null),a.a.createElement(O,null)))},h=function(e){var t=e.id,n=Object(r.useState)(!1),c=Object(l.a)(n,2),o=c[0],u=c[1],s=function(){var e=Object(d.a)(p.a.mark(function e(n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),u(!0),e.prev=2,e.next=5,Object(i.c)(t);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log({ex:e.t0}),u(!1);case 11:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("button",{disabled:o,onClick:s},"Remov",o?"ing":"e"," Contestant",o?"...":"")},E=(n(32),function(e){var t=e.id,n=e.name,r=e.points,o=e.rank,i=Object(c.f)(),s=Object(u.d)();return a.a.createElement("div",{className:"contestant-row",onClick:function(){return i.push("/contestant/".concat(t))}},a.a.createElement("div",{className:"ranker"},o),a.a.createElement("div",{className:"name"},n),a.a.createElement("div",{className:"points"},r),s&&a.a.createElement(h,{id:t}),a.a.createElement("hr",null),a.a.createElement("br",null))}),g=function(){var e=Object(u.b)(),t=e.contestants;return e.isFetching?a.a.createElement("h4",null,"Fetching Contestants..."):a.a.createElement("div",null,t.length>0?t.map(function(e){return a.a.createElement(E,Object.assign({key:e.id},e))}):a.a.createElement("h4",null,"No Contestants Yet"))},w=function(){return a.a.createElement("div",{className:"header"},a.a.createElement("li",{className:"rnk"},"#"),a.a.createElement("li",{className:"nme"},"Name"),a.a.createElement("li",{className:"pnts"},"points"))};t.default=function(){var e=Object(u.d)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,null),a.a.createElement(g,null),e&&a.a.createElement(v,null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(s,null))}}}]);
//# sourceMappingURL=4.449b0d19.chunk.js.map